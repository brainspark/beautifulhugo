{{ $path := split .URL "/" }}

<ol class="breadcrumb">
    <li><a href="/"><i class="glyphicon glyphicon-home"></i></a></li>

    {{ partial "breadcrumbs_recursive.html" (dict "sections" .Site.Home.Sections "level" 1 "path" $path "dir" .URL) }}

    {{ if and (eq .Kind "section") (eq (len $path) 2)}}
        <li><small>{{ .Title }}</small></li>
    {{ end }}

    {{ if eq .Kind "page" }}
        <li><small>{{ .Title }}</small></li>
    {{ end }}
</ol>